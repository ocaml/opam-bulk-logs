++ opam install patoline -e ubuntu
+ depext='libsqlite3-dev zlib1g-dev'
Ubuntu depexts: libsqlite3-dev zlib1g-dev
+ echo Ubuntu depexts: libsqlite3-dev zlib1g-dev
+ '[' 'libsqlite3-dev zlib1g-dev' '!=' '' ']'
+ sudo apt-get install -qq -y build-essential m4
+ sudo apt-get install -qq -y libsqlite3-dev zlib1g-dev
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
Selecting previously unselected package libsqlite3-dev:amd64.
(Reading database ... 20147 files and directories currently installed.)
Preparing to unpack .../libsqlite3-dev_3.8.2-1ubuntu2_amd64.deb ...
Unpacking libsqlite3-dev:amd64 (3.8.2-1ubuntu2) ...
Selecting previously unselected package zlib1g-dev:amd64.
Preparing to unpack .../zlib1g-dev_1%3a1.2.8.dfsg-1ubuntu1_amd64.deb ...
Unpacking zlib1g-dev:amd64 (1:1.2.8.dfsg-1ubuntu1) ...
Setting up libsqlite3-dev:amd64 (3.8.2-1ubuntu2) ...
Setting up zlib1g-dev:amd64 (1:1.2.8.dfsg-1ubuntu1) ...
++ opam install patoline -e source,linux
+ srcext=
Ubuntu srcexts:
+ echo Ubuntu srcexts:
+ '[' '' '!=' '' ']'
+ opam install patoline
The following actions will be performed:
 - install   omake.0.9.8.6-0.rc1                   [required by camlimages]
 - install   camlp4.4.01.0                         [required by camomile]
 - install   camlzip.1.05                          [required by patoline]
 - install   dypgen.20120619-1                     [required by patoline]
 - install   sqlite3-ocaml.2.0.6                   [required by patoline]
 - install   camlimages.4.1.2                      [required by patoline]
 - install   camomile.0.8.5                        [required by patoline]
 - install   patoline.0.1
=== 8 to install ===

=-=- Synchronizing package archives -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default] Synchronizing with /home/opam/opam-repository/archives/camlimages.4.1.2+opam.tar.gz
[default] Synchronizing with /home/opam/opam-repository/archives/camlzip.1.05+opam.tar.gz
[default] Synchronizing with /home/opam/opam-repository/archives/camomile.0.8.5+opam.tar.gz
sending incremental file list
sending incremental file list
sending incremental file list
camlimages.4.1.2+opam.tar.gz
camlzip.1.05+opam.tar.gz
camomile.0.8.5+opam.tar.gz

sent 26,592 bytes  received 35 bytes  53,254.00 bytes/sec
total size is 26,459  speedup is 0.99

sent 1,275,170 bytes  received 35 bytes  850,136.67 bytes/sec
total size is 1,274,733  speedup is 1.00
[default] Synchronizing with /home/opam/opam-repository/archives/dypgen.20120619-1+opam.tar.gz

sent 3,721,644 bytes  received 35 bytes  7,443,358.00 bytes/sec
total size is 3,720,609  speedup is 1.00
[default] Synchronizing with /home/opam/opam-repository/archives/omake.0.9.8.6-0.rc1+opam.tar.gz
sending incremental file list
dypgen.20120619-1+opam.tar.gz
sending incremental file list
[default] Synchronizing with /home/opam/opam-repository/archives/patoline.0.1+opam.tar.gz
omake.0.9.8.6-0.rc1+opam.tar.gz
sending incremental file list

sent 473,229 bytes  received 35 bytes  946,528.00 bytes/sec
total size is 472,983  speedup is 1.00
patoline.0.1+opam.tar.gz

sent 3,246,805 bytes  received 35 bytes  6,493,680.00 bytes/sec
total size is 3,245,877  speedup is 1.00
[default] Synchronizing with /home/opam/opam-repository/archives/sqlite3-ocaml.2.0.6+opam.tar.gz
sending incremental file list
sqlite3-ocaml.2.0.6+opam.tar.gz

sent 3,675,757 bytes  received 35 bytes  7,351,584.00 bytes/sec
total size is 3,674,732  speedup is 1.00

sent 66,750 bytes  received 35 bytes  133,570.00 bytes/sec
total size is 66,598  speedup is 1.00

=-=- Installing packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Installing camlp4.4.01.0.
Applying fix-install.patch.
patching file META
patching file Makefile
Building camlzip.1.05:
  make all
  make allopt
  make install-findlib
ocamlc -g -c -ccopt -g -ccopt -I/usr/local/include zlibstubs.c
ocamlmklib -oc camlzip zlibstubs.o \
            -L/usr/local/lib -lz
ocamlc -g -c zlib.mli
ocamlc -g -c zlib.ml
ocamlc -g -c zip.mli
ocamlc -g -c zip.ml
ocamlc -g -c gzip.mli
ocamlc -g -c gzip.ml
ocamlmklib -o zip -oc camlzip zlib.cmo zip.cmo gzip.cmo \
            -L/usr/local/lib -lz
ocamlopt -c zlib.ml
ocamlopt -c zip.ml
ocamlopt -c gzip.ml
ocamlmklib -o zip -oc camlzip zlib.cmx zip.cmx gzip.cmx \
            -L/usr/local/lib -lz
ocamlopt -shared -linkall -I ./ -o zip.cmxs zip.cmxa
ocamlfind install zip META *.mli *.a *.cmi *.cma gzip.cmx zip.cmx zlib.cmx zip.cmxa zip.cmxs dllcamlzip.so
Installed /home/opam/.opam/4.01.0/lib/zip/zip.cmxs
Installed /home/opam/.opam/4.01.0/lib/zip/zip.cmxa
Installed /home/opam/.opam/4.01.0/lib/zip/zlib.cmx
Installed /home/opam/.opam/4.01.0/lib/zip/zip.cmx
Installed /home/opam/.opam/4.01.0/lib/zip/gzip.cmx
Installed /home/opam/.opam/4.01.0/lib/zip/zip.cma
Installed /home/opam/.opam/4.01.0/lib/zip/zlib.cmi
Installed /home/opam/.opam/4.01.0/lib/zip/zip.cmi
Installed /home/opam/.opam/4.01.0/lib/zip/gzip.cmi
Installed /home/opam/.opam/4.01.0/lib/zip/zip.a
Installed /home/opam/.opam/4.01.0/lib/zip/libcamlzip.a
Installed /home/opam/.opam/4.01.0/lib/zip/zlib.mli
Installed /home/opam/.opam/4.01.0/lib/zip/zip.mli
Installed /home/opam/.opam/4.01.0/lib/zip/gzip.mli
Installed /home/opam/.opam/4.01.0/lib/zip/META
Installed /home/opam/.opam/4.01.0/lib/stublibs/dllcamlzip.so
Installed /home/opam/.opam/4.01.0/lib/stublibs/dllcamlzip.so.owner
ocamlfind: [WARNING] You have installed DLLs but the directory /home/opam/.opam/4.01.0/lib/stublibs is not mentioned in ld.conf
echo 'directory="../zip"' >> META && ocamlfind install camlzip META
Installed /home/opam/.opam/4.01.0/lib/camlzip/META
Installing camlzip.1.05.
Applying install-bsd-compatible.patch.
patching file Makefile
patching file dyplib/Makefile
Building dypgen.20120619-1:
  make
  make install DYPGENLIBDIR=/home/opam/.opam/4.01.0/lib BINDIR=/home/opam/.opam/4.01.0/bin MANDIR=/home/opam/.opam/4.01.0/man/man1
cd dyplib; make
make[1]: Entering directory `/home/opam/.opam/4.01.0/build/dypgen.20120619-1/dyplib'
ocamlc  -c dyp.mli
ocamlc  -c priority_by_relation.ml
ocamlc  -c automaton.ml
ocamlc  -c dyplex.ml
ocamlc  -c dyp.ml
ocamlc -a -o dyp.cma priority_by_relation.cmo automaton.cmo dyplex.cmo dyp.cmo
ocamlopt  -c priority_by_relation.ml
ocamlopt  -c automaton.ml
ocamlopt  -c dyplex.ml
ocamlopt  -c dyp.ml
ocamlopt -a -o dyp.cmxa priority_by_relation.cmx automaton.cmx dyplex.cmx dyp.cmx
ocamlopt  -p -c -o priority_by_relation.p.cmx priority_by_relation.ml
ocamlopt  -p -c -o automaton.p.cmx automaton.ml
ocamlopt  -p -c -o dyplex.p.cmx dyplex.ml
ocamlopt  -p -c -o dyp.p.cmx dyp.ml
ocamlopt -a -o dyp.p.cmxa priority_by_relation.p.cmx automaton.p.cmx dyplex.p.cmx dyp.p.cmx
make[1]: Leaving directory `/home/opam/.opam/4.01.0/build/dypgen.20120619-1/dyplib'
cd dypgen; make
make[1]: Entering directory `/home/opam/.opam/4.01.0/build/dypgen.20120619-1/dypgen'
ocamlc -I ../dyplib -c parse_tree.mli
ocamlc -I ../dyplib -c dypgen_parser.mli
ocamlc -I ../dyplib -c argument.ml
ocamllex extract_type.mll
360 states, 11307 transitions, table size 47388 bytes
22672 additional bytes used for bindings
ocamlc -I ../dyplib -c extract_type.ml
ocamlc -I ../dyplib -c dypgen_parser.ml
ocamllex dypgen_lexer.mll
195 states, 1556 transitions, table size 7394 bytes
2280 additional bytes used for bindings
ocamlc -I ../dyplib -c dypgen_lexer.ml
ocamllex insert_linenum.mll
42 states, 273 transitions, table size 1344 bytes
ocamlc -I ../dyplib -c insert_linenum.ml
ocamlc -I ../dyplib -c dypgen.ml
ocamlc -I ../dyplib -o dypgen dyp.cma argument.cmo extract_type.cmo dypgen_parser.cmo dypgen_lexer.cmo insert_linenum.cmo dypgen.cmo
ocamlopt -I ../dyplib -c argument.ml
ocamlopt -I ../dyplib -c extract_type.ml
ocamlopt -I ../dyplib -c dypgen_parser.ml
ocamlopt -I ../dyplib -c dypgen_lexer.ml
ocamlopt -I ../dyplib -c insert_linenum.ml
ocamlopt -I ../dyplib -c dypgen.ml
ocamlopt -I ../dyplib -o dypgen.opt dyp.cmxa argument.cmx extract_type.cmx dypgen_parser.cmx dypgen_lexer.cmx insert_linenum.cmx dypgen.cmx
rm dypgen_lexer.ml extract_type.ml insert_linenum.ml
make[1]: Leaving directory `/home/opam/.opam/4.01.0/build/dypgen.20120619-1/dypgen'
mkdir -p /home/opam/.opam/4.01.0/bin
cp dypgen/dypgen.opt /home/opam/.opam/4.01.0/bin
install -d /home/opam/.opam/4.01.0/bin
install -m 755 dypgen/dypgen /home/opam/.opam/4.01.0/bin
install -m 755 dyp2gram.pl /home/opam/.opam/4.01.0/bin/dyp2gram
install -d /home/opam/.opam/4.01.0/man/man1
install -m 644 doc/dypgen.1 /home/opam/.opam/4.01.0/man/man1/dypgen.1
install -m 644 doc/dypgen.1 /home/opam/.opam/4.01.0/man/man1/dypgen.opt.1
install -m 644 doc/dypgen.1 /home/opam/.opam/4.01.0/man/man1/dyp2gram.1
cd dyplib; make install
make[1]: Entering directory `/home/opam/.opam/4.01.0/build/dypgen.20120619-1/dyplib'
ocamlfind remove -destdir /home/opam/.opam/4.01.0/lib dyp
ocamlfind: [WARNING] No such directory: /home/opam/.opam/4.01.0/lib/dyp
install -d /home/opam/.opam/4.01.0/lib
ocamlfind install -destdir /home/opam/.opam/4.01.0/lib dyp META dyp.cma dyp.cmxa dyp.a dyp.cmi
Installed /home/opam/.opam/4.01.0/lib/dyp/dyp.cmi
Installed /home/opam/.opam/4.01.0/lib/dyp/dyp.a
Installed /home/opam/.opam/4.01.0/lib/dyp/dyp.cmxa
Installed /home/opam/.opam/4.01.0/lib/dyp/dyp.cma
Installed /home/opam/.opam/4.01.0/lib/dyp/META
chmod a-x /home/opam/.opam/4.01.0/lib/dyp/META #why is this needed ?
make[1]: Leaving directory `/home/opam/.opam/4.01.0/build/dypgen.20120619-1/dyplib'
Installing dypgen.20120619-1.
Applying opam.patch.
patching file OMakefile
Applying fam.patch.
patching file lib/configure/Configure.om
Applying readline.patch.
patching file lib/configure/readline.om
Building omake.0.9.8.6-0.rc1:
  make bootstrap PREFIX=/home/opam/.opam/4.01.0
  make all PREFIX=/home/opam/.opam/4.01.0
  make install PREFIX=/home/opam/.opam/4.01.0
mkdir -p boot
ln -sf ../src/Makefile boot/Makefile
make[1]: Entering directory `/home/opam/.opam/4.01.0/build/omake.0.9.8.6-0.rc1/boot'
ln -sf ../src/clib/omake_shell_sys.c omake_shell_sys.c
ln -sf ../src/clib/readline.c readline.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_heap.c lm_heap.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_heap.h lm_heap.h
ln -sf ../src/clib/../libmojave-external/cutil/lm_channel.c lm_channel.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_compat_win32.c lm_compat_win32.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_compat_win32.h lm_compat_win32.h
ln -sf ../src/clib/../libmojave-external/cutil/lm_ctype.c lm_ctype.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_printf.c lm_printf.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_uname_ext.c lm_uname_ext.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_unix_cutil.c lm_unix_cutil.c
ln -sf ../src/clib/../libmojave-external/cutil/unixsupport.h unixsupport.h
ln -sf ../src/clib/../libmojave-external/cutil/fam_win32.c fam_win32.c
ln -sf ../src/clib/../libmojave-external/cutil/fam_kqueue.c fam_kqueue.c
ln -sf ../src/clib/../libmojave-external/cutil/fam_inotify.c fam_inotify.c
ln -sf ../src/clib/../libmojave-external/cutil/fam_pseudo.h fam_pseudo.h
ln -sf ../src/clib/../libmojave-external/cutil/lm_notify.c lm_notify.c
ln -sf ../src/clib/../libmojave-external/cutil/inotify.h inotify.h
ln -sf ../src/clib/../libmojave-external/cutil/inotify-syscalls.h inotify-syscalls.h
ln -sf ../src/clib/../libmojave-external/cutil/inotify.om inotify.om
ln -sf ../src/clib/../libmojave-external/cutil/lm_termsize.c lm_termsize.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_terminfo.c lm_terminfo.c
ln -sf ../src/clib/../libmojave-external/cutil/lm_fs_case_sensitive.c lm_fs_case_sensitive.c
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_printf.ml lm_printf.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_debug.ml lm_debug.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_heap.ml lm_heap.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_list_util.ml lm_list_util.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_array_util.ml lm_array_util.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_set_sig.ml lm_set_sig.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_set.ml lm_set.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_map_sig.ml lm_map_sig.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_map.ml lm_map.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_int_set.ml lm_int_set.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_index.ml lm_index.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread_sig.ml lm_thread_sig.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread.ml lm_thread.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_string_util.ml lm_string_util.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_string_set.ml lm_string_set.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_printf.mli lm_printf.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_debug.mli lm_debug.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_list_util.mli lm_list_util.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_array_util.mli lm_array_util.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_set.mli lm_set.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_map.mli lm_map.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_int_set.mli lm_int_set.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_index.mli lm_index.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread_core.mli lm_thread_core.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread.mli lm_thread.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_string_util.mli lm_string_util.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_string_set.mli lm_string_set.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread_pool.mli lm_thread_pool.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_arg.ml lm_arg.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_hash_sig.ml lm_hash_sig.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_hash.ml lm_hash.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_location.ml lm_location.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_position.ml lm_position.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_channel.ml lm_channel.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_lexer.ml lm_lexer.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_parser.ml lm_parser.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_glob.ml lm_glob.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_db.ml lm_db.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_arg.mli lm_arg.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_hash.mli lm_hash.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_location.mli lm_location.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_position.mli lm_position.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_channel.mli lm_channel.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_lexer.mli lm_lexer.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_parser.mli lm_parser.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_glob.mli lm_glob.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_db.mli lm_db.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_termsize.ml lm_termsize.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_termsize.mli lm_termsize.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_terminfo.ml lm_terminfo.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_terminfo.mli lm_terminfo.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_filename_util.ml lm_filename_util.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_filename_util.mli lm_filename_util.mli
ln -sf ../src/libmojave/../libmojave-external/unix/lm_uname.ml lm_uname.ml
ln -sf ../src/libmojave/../libmojave-external/unix/lm_unix_util.ml lm_unix_util.ml
ln -sf ../src/libmojave/../libmojave-external/unix/lm_uname.mli lm_uname.mli
ln -sf ../src/libmojave/../libmojave-external/unix/lm_unix_util.mli lm_unix_util.mli
ln -sf ../src/libmojave/../libmojave-external/unix/lm_notify.ml lm_notify.ml
ln -sf ../src/libmojave/../libmojave-external/unix/lm_notify.mli lm_notify.mli
ln -sf ../src/libmojave/../libmojave-external/unix/lm_fs_case_sensitive.ml lm_fs_case_sensitive.ml
ln -sf ../src/libmojave/../libmojave-external/unix/lm_fs_case_sensitive.mli lm_fs_case_sensitive.mli
ln -sf ../src/libmojave/../libmojave-external/util/lm_symbol_hash.ml lm_symbol.ml
ln -sf ../src/libmojave/../libmojave-external/util/lm_symbol_hash.mli lm_symbol.mli
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread_pool_null.ml lm_thread_pool.ml
ln -sf ../src/libmojave/../libmojave-external/stdlib/lm_thread_core_null.ml lm_thread_core.ml
ln -sf ../src/util/fmarshal.ml fmarshal.ml
ln -sf ../src/util/ocaml_patch.mli ocaml_patch.mli
ln -sf ../src/util/omake_handle_table.ml omake_handle_table.ml
ln -sf ../src/util/omake_marshal.ml omake_marshal.ml
