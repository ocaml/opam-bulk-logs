++ opam install conf-nanomsg -e ubuntu
+ depext=pkg-config
+ echo Ubuntu depexts: pkg-config
+ '[' pkg-config '!=' '' ']'
+ sudo apt-get install -qq -y build-essential m4
Ubuntu depexts: pkg-config
+ sudo apt-get install -qq -y pkg-config
++ opam install conf-nanomsg -e source,linux
+ srcext=https://gist.githubusercontent.com/avsm/ce2ce785f27c9349d99d/raw
Ubuntu srcexts: https://gist.githubusercontent.com/avsm/ce2ce785f27c9349d99d/raw
+ echo Ubuntu srcexts: https://gist.githubusercontent.com/avsm/ce2ce785f27c9349d99d/raw
+ '[' https://gist.githubusercontent.com/avsm/ce2ce785f27c9349d99d/raw '!=' '' ']'
++ mktemp
+ t=/tmp/tmp.daC7BGHmW8
+ curl -sL https://gist.githubusercontent.com/avsm/ce2ce785f27c9349d99d/raw
+ bash -ex /tmp/tmp.daC7BGHmW8
+ V=0.3-beta
+ curl -OL http://download.nanomsg.org/nanomsg-0.3-beta.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100  559k  100  559k    0     0   869k      0 --:--:-- --:--:-- --:--:--  869k
+ tar -zxvf nanomsg-0.3-beta.tar.gz
nanomsg-0.3-beta/
nanomsg-0.3-beta/m4/
nanomsg-0.3-beta/m4/dolt.m4
nanomsg-0.3-beta/m4/libtool.m4
nanomsg-0.3-beta/m4/ax_pthread.m4
nanomsg-0.3-beta/m4/ltversion.m4
nanomsg-0.3-beta/m4/lt~obsolete.m4
nanomsg-0.3-beta/m4/ltoptions.m4
nanomsg-0.3-beta/m4/ltsugar.m4
nanomsg-0.3-beta/doc/
nanomsg-0.3-beta/doc/htmldoc.css
nanomsg-0.3-beta/doc/nn_getsockopt.txt
nanomsg-0.3-beta/doc/nn_ipc.txt
nanomsg-0.3-beta/doc/nn_survey.txt
nanomsg-0.3-beta/doc/nn_shutdown.txt
nanomsg-0.3-beta/doc/nn_bus.txt
nanomsg-0.3-beta/doc/nn_close.txt
nanomsg-0.3-beta/doc/nn_strerror.txt
nanomsg-0.3-beta/doc/nn_send.txt
nanomsg-0.3-beta/doc/nn_allocmsg.txt
nanomsg-0.3-beta/doc/nn_recvmsg.txt
nanomsg-0.3-beta/doc/nanomsg.txt
nanomsg-0.3-beta/doc/nn_pipeline.txt
nanomsg-0.3-beta/doc/nn_pubsub.txt
nanomsg-0.3-beta/doc/nn_errno.txt
nanomsg-0.3-beta/doc/nn_reqrep.txt
nanomsg-0.3-beta/doc/nn_symbol.txt
nanomsg-0.3-beta/doc/nn_env.txt
nanomsg-0.3-beta/doc/nn_device.txt
nanomsg-0.3-beta/doc/nn_tcp.txt
nanomsg-0.3-beta/doc/nn_sendmsg.txt
nanomsg-0.3-beta/doc/nn_recv.txt
nanomsg-0.3-beta/doc/asciidoc.conf
nanomsg-0.3-beta/doc/nn_bind.txt
nanomsg-0.3-beta/doc/nanocat.txt
nanomsg-0.3-beta/doc/nn_setsockopt.txt
nanomsg-0.3-beta/doc/nn_inproc.txt
nanomsg-0.3-beta/doc/nn_cmsg.txt
nanomsg-0.3-beta/doc/nn_pair.txt
nanomsg-0.3-beta/doc/nn_freemsg.txt
nanomsg-0.3-beta/doc/nn_socket.txt
nanomsg-0.3-beta/doc/nn_poll.txt
nanomsg-0.3-beta/doc/nn_term.txt
nanomsg-0.3-beta/doc/nn_connect.txt
nanomsg-0.3-beta/src/
nanomsg-0.3-beta/src/aio/
nanomsg-0.3-beta/src/aio/poller_epoll.h
nanomsg-0.3-beta/src/aio/poller_epoll.inc
nanomsg-0.3-beta/src/aio/ctx.c
nanomsg-0.3-beta/src/aio/ctx.h
nanomsg-0.3-beta/src/aio/worker_win.inc
nanomsg-0.3-beta/src/aio/fsm.c
nanomsg-0.3-beta/src/aio/fsm.h
nanomsg-0.3-beta/src/aio/usock_win.inc
nanomsg-0.3-beta/src/aio/poller_kqueue.h
nanomsg-0.3-beta/src/aio/worker_posix.h
nanomsg-0.3-beta/src/aio/usock_posix.h
nanomsg-0.3-beta/src/aio/poller.c
nanomsg-0.3-beta/src/aio/poller.h
nanomsg-0.3-beta/src/aio/usock_posix.inc
nanomsg-0.3-beta/src/aio/timer.c
nanomsg-0.3-beta/src/aio/timer.h
nanomsg-0.3-beta/src/aio/worker.c
nanomsg-0.3-beta/src/aio/worker.h
nanomsg-0.3-beta/src/aio/worker_posix.inc
nanomsg-0.3-beta/src/aio/pool.c
nanomsg-0.3-beta/src/aio/pool.h
nanomsg-0.3-beta/src/aio/timerset.c
nanomsg-0.3-beta/src/aio/timerset.h
nanomsg-0.3-beta/src/aio/usock.c
nanomsg-0.3-beta/src/aio/usock.h
nanomsg-0.3-beta/src/aio/poller_poll.h
nanomsg-0.3-beta/src/aio/usock_win.h
nanomsg-0.3-beta/src/aio/poller_poll.inc
nanomsg-0.3-beta/src/aio/worker_win.h
nanomsg-0.3-beta/src/aio/poller_kqueue.inc
nanomsg-0.3-beta/src/core/
nanomsg-0.3-beta/src/core/ep.c
nanomsg-0.3-beta/src/core/ep.h
nanomsg-0.3-beta/src/core/global.c
nanomsg-0.3-beta/src/core/global.h
nanomsg-0.3-beta/src/core/sockbase.c
nanomsg-0.3-beta/src/core/symbol.c
nanomsg-0.3-beta/src/core/pipe.c
nanomsg-0.3-beta/src/core/poll.c
nanomsg-0.3-beta/src/core/epbase.c
nanomsg-0.3-beta/src/core/sock.c
nanomsg-0.3-beta/src/core/sock.h
nanomsg-0.3-beta/src/core/device.c
nanomsg-0.3-beta/src/nn.h
nanomsg-0.3-beta/src/pubsub.h
nanomsg-0.3-beta/src/transports/
nanomsg-0.3-beta/src/transports/ipc/
nanomsg-0.3-beta/src/transports/ipc/ipc.c
nanomsg-0.3-beta/src/transports/ipc/ipc.h
nanomsg-0.3-beta/src/transports/ipc/aipc.c
nanomsg-0.3-beta/src/transports/ipc/aipc.h
nanomsg-0.3-beta/src/transports/ipc/bipc.c
nanomsg-0.3-beta/src/transports/ipc/bipc.h
nanomsg-0.3-beta/src/transports/ipc/cipc.c
nanomsg-0.3-beta/src/transports/ipc/cipc.h
nanomsg-0.3-beta/src/transports/ipc/sipc.c
nanomsg-0.3-beta/src/transports/ipc/sipc.h
nanomsg-0.3-beta/src/transports/tcp/
nanomsg-0.3-beta/src/transports/tcp/tcp.c
nanomsg-0.3-beta/src/transports/tcp/tcp.h
nanomsg-0.3-beta/src/transports/tcp/atcp.c
nanomsg-0.3-beta/src/transports/tcp/atcp.h
nanomsg-0.3-beta/src/transports/tcp/btcp.c
nanomsg-0.3-beta/src/transports/tcp/btcp.h
nanomsg-0.3-beta/src/transports/tcp/ctcp.c
nanomsg-0.3-beta/src/transports/tcp/ctcp.h
nanomsg-0.3-beta/src/transports/tcp/stcp.c
nanomsg-0.3-beta/src/transports/tcp/stcp.h
nanomsg-0.3-beta/src/transports/utils/
nanomsg-0.3-beta/src/transports/utils/dns_getaddrinfo.inc
nanomsg-0.3-beta/src/transports/utils/dns_getaddrinfo_a.h
nanomsg-0.3-beta/src/transports/utils/dns.c
nanomsg-0.3-beta/src/transports/utils/dns.h
nanomsg-0.3-beta/src/transports/utils/dns_getaddrinfo.h
nanomsg-0.3-beta/src/transports/utils/streamhdr.c
nanomsg-0.3-beta/src/transports/utils/streamhdr.h
nanomsg-0.3-beta/src/transports/utils/literal.c
nanomsg-0.3-beta/src/transports/utils/literal.h
nanomsg-0.3-beta/src/transports/utils/port.c
nanomsg-0.3-beta/src/transports/utils/port.h
nanomsg-0.3-beta/src/transports/utils/backoff.c
nanomsg-0.3-beta/src/transports/utils/backoff.h
nanomsg-0.3-beta/src/transports/utils/iface.c
nanomsg-0.3-beta/src/transports/utils/iface.h
nanomsg-0.3-beta/src/transports/utils/dns_getaddrinfo_a.inc
nanomsg-0.3-beta/src/transports/inproc/
nanomsg-0.3-beta/src/transports/inproc/ins.c
nanomsg-0.3-beta/src/transports/inproc/ins.h
nanomsg-0.3-beta/src/transports/inproc/binproc.c
nanomsg-0.3-beta/src/transports/inproc/binproc.h
nanomsg-0.3-beta/src/transports/inproc/cinproc.c
nanomsg-0.3-beta/src/transports/inproc/cinproc.h
nanomsg-0.3-beta/src/transports/inproc/msgqueue.c
nanomsg-0.3-beta/src/transports/inproc/msgqueue.h
nanomsg-0.3-beta/src/transports/inproc/inproc.c
nanomsg-0.3-beta/src/transports/inproc/inproc.h
nanomsg-0.3-beta/src/transports/inproc/sinproc.c
nanomsg-0.3-beta/src/transports/inproc/sinproc.h
nanomsg-0.3-beta/src/survey.h
nanomsg-0.3-beta/src/bus.h
nanomsg-0.3-beta/src/reqrep.h
nanomsg-0.3-beta/src/ipc.h
nanomsg-0.3-beta/src/tcp.h
nanomsg-0.3-beta/src/utils/
nanomsg-0.3-beta/src/utils/clock.c
nanomsg-0.3-beta/src/utils/clock.h
nanomsg-0.3-beta/src/utils/fd.h
nanomsg-0.3-beta/src/utils/atomic.c
nanomsg-0.3-beta/src/utils/atomic.h
nanomsg-0.3-beta/src/utils/thread_posix.inc
nanomsg-0.3-beta/src/utils/efd.c
nanomsg-0.3-beta/src/utils/efd.h
nanomsg-0.3-beta/src/utils/err.c
nanomsg-0.3-beta/src/utils/err.h
nanomsg-0.3-beta/src/utils/int.h
nanomsg-0.3-beta/src/utils/msg.c
nanomsg-0.3-beta/src/utils/msg.h
nanomsg-0.3-beta/src/utils/sem.c
nanomsg-0.3-beta/src/utils/sem.h
nanomsg-0.3-beta/src/utils/queue.c
nanomsg-0.3-beta/src/utils/queue.h
nanomsg-0.3-beta/src/utils/win.h
nanomsg-0.3-beta/src/utils/efd_eventfd.h
nanomsg-0.3-beta/src/utils/stopwatch.c
nanomsg-0.3-beta/src/utils/stopwatch.h
nanomsg-0.3-beta/src/utils/sleep.c
nanomsg-0.3-beta/src/utils/sleep.h
nanomsg-0.3-beta/src/utils/attr.h
nanomsg-0.3-beta/src/utils/efd_win.h
nanomsg-0.3-beta/src/utils/cont.h
nanomsg-0.3-beta/src/utils/efd_socketpair.inc
nanomsg-0.3-beta/src/utils/fast.h
nanomsg-0.3-beta/src/utils/efd_socketpair.h
nanomsg-0.3-beta/src/utils/random.c
nanomsg-0.3-beta/src/utils/random.h
nanomsg-0.3-beta/src/utils/hash.c
nanomsg-0.3-beta/src/utils/hash.h
nanomsg-0.3-beta/src/utils/thread_win.h
nanomsg-0.3-beta/src/utils/list.c
nanomsg-0.3-beta/src/utils/list.h
nanomsg-0.3-beta/src/utils/mutex.c
nanomsg-0.3-beta/src/utils/mutex.h
nanomsg-0.3-beta/src/utils/glock.c
nanomsg-0.3-beta/src/utils/glock.h
nanomsg-0.3-beta/src/utils/efd_eventfd.inc
nanomsg-0.3-beta/src/utils/thread_win.inc
nanomsg-0.3-beta/src/utils/alloc.c
nanomsg-0.3-beta/src/utils/alloc.h
nanomsg-0.3-beta/src/utils/wire.c
nanomsg-0.3-beta/src/utils/wire.h
nanomsg-0.3-beta/src/utils/closefd.c
nanomsg-0.3-beta/src/utils/closefd.h
nanomsg-0.3-beta/src/utils/thread.c
nanomsg-0.3-beta/src/utils/thread.h
nanomsg-0.3-beta/src/utils/thread_posix.h
nanomsg-0.3-beta/src/utils/efd_pipe.inc
nanomsg-0.3-beta/src/utils/efd_pipe.h
nanomsg-0.3-beta/src/utils/chunkref.c
nanomsg-0.3-beta/src/utils/chunkref.h
nanomsg-0.3-beta/src/utils/chunk.c
nanomsg-0.3-beta/src/utils/chunk.h
nanomsg-0.3-beta/src/utils/efd_win.inc
nanomsg-0.3-beta/src/protocol.h
nanomsg-0.3-beta/src/CMakeLists.txt
nanomsg-0.3-beta/src/pipeline.h
nanomsg-0.3-beta/src/pair.h
nanomsg-0.3-beta/src/transport.h
nanomsg-0.3-beta/src/protocols/
nanomsg-0.3-beta/src/protocols/bus/
nanomsg-0.3-beta/src/protocols/bus/bus.c
nanomsg-0.3-beta/src/protocols/bus/bus.h
nanomsg-0.3-beta/src/protocols/bus/xbus.c
nanomsg-0.3-beta/src/protocols/bus/xbus.h
nanomsg-0.3-beta/src/protocols/pair/
nanomsg-0.3-beta/src/protocols/pair/xpair.c
nanomsg-0.3-beta/src/protocols/pair/xpair.h
nanomsg-0.3-beta/src/protocols/pair/pair.c
nanomsg-0.3-beta/src/protocols/pair/pair.h
nanomsg-0.3-beta/src/protocols/utils/
nanomsg-0.3-beta/src/protocols/utils/fq.c
nanomsg-0.3-beta/src/protocols/utils/fq.h
nanomsg-0.3-beta/src/protocols/utils/lb.c
nanomsg-0.3-beta/src/protocols/utils/lb.h
nanomsg-0.3-beta/src/protocols/utils/dist.c
nanomsg-0.3-beta/src/protocols/utils/dist.h
nanomsg-0.3-beta/src/protocols/utils/excl.c
nanomsg-0.3-beta/src/protocols/utils/excl.h
nanomsg-0.3-beta/src/protocols/utils/priolist.c
nanomsg-0.3-beta/src/protocols/utils/priolist.h
nanomsg-0.3-beta/src/protocols/pipeline/
nanomsg-0.3-beta/src/protocols/pipeline/xpull.c
nanomsg-0.3-beta/src/protocols/pipeline/xpull.h
nanomsg-0.3-beta/src/protocols/pipeline/xpush.c
nanomsg-0.3-beta/src/protocols/pipeline/xpush.h
nanomsg-0.3-beta/src/protocols/pipeline/pull.c
nanomsg-0.3-beta/src/protocols/pipeline/pull.h
nanomsg-0.3-beta/src/protocols/pipeline/push.c
nanomsg-0.3-beta/src/protocols/pipeline/push.h
nanomsg-0.3-beta/src/protocols/pubsub/
nanomsg-0.3-beta/src/protocols/pubsub/pub.c
nanomsg-0.3-beta/src/protocols/pubsub/pub.h
nanomsg-0.3-beta/src/protocols/pubsub/sub.c
nanomsg-0.3-beta/src/protocols/pubsub/sub.h
nanomsg-0.3-beta/src/protocols/pubsub/trie.c
nanomsg-0.3-beta/src/protocols/pubsub/trie.h
nanomsg-0.3-beta/src/protocols/pubsub/xpub.c
nanomsg-0.3-beta/src/protocols/pubsub/xpub.h
nanomsg-0.3-beta/src/protocols/pubsub/xsub.c
nanomsg-0.3-beta/src/protocols/pubsub/xsub.h
nanomsg-0.3-beta/src/protocols/reqrep/
nanomsg-0.3-beta/src/protocols/reqrep/rep.c
nanomsg-0.3-beta/src/protocols/reqrep/rep.h
nanomsg-0.3-beta/src/protocols/reqrep/req.c
nanomsg-0.3-beta/src/protocols/reqrep/req.h
nanomsg-0.3-beta/src/protocols/reqrep/xrep.c
nanomsg-0.3-beta/src/protocols/reqrep/xrep.h
nanomsg-0.3-beta/src/protocols/reqrep/xreq.c
nanomsg-0.3-beta/src/protocols/reqrep/xreq.h
nanomsg-0.3-beta/src/protocols/survey/
nanomsg-0.3-beta/src/protocols/survey/xsurveyor.c
nanomsg-0.3-beta/src/protocols/survey/xsurveyor.h
nanomsg-0.3-beta/src/protocols/survey/respondent.c
nanomsg-0.3-beta/src/protocols/survey/respondent.h
nanomsg-0.3-beta/src/protocols/survey/xrespondent.c
nanomsg-0.3-beta/src/protocols/survey/xrespondent.h
nanomsg-0.3-beta/src/protocols/survey/surveyor.c
nanomsg-0.3-beta/src/protocols/survey/surveyor.h
nanomsg-0.3-beta/src/inproc.h
nanomsg-0.3-beta/perf/
nanomsg-0.3-beta/perf/remote_lat.c
nanomsg-0.3-beta/perf/remote_thr.c
nanomsg-0.3-beta/perf/local_lat.c
nanomsg-0.3-beta/perf/local_thr.c
nanomsg-0.3-beta/perf/inproc_lat.c
nanomsg-0.3-beta/perf/inproc_thr.c
nanomsg-0.3-beta/compile
nanomsg-0.3-beta/depcomp
nanomsg-0.3-beta/aclocal.m4
nanomsg-0.3-beta/tests/
nanomsg-0.3-beta/tests/domain.c
nanomsg-0.3-beta/tests/pubsub.c
nanomsg-0.3-beta/tests/survey.c
nanomsg-0.3-beta/tests/bus.c
nanomsg-0.3-beta/tests/reqrep.c
nanomsg-0.3-beta/tests/ipc.c
nanomsg-0.3-beta/tests/msg.c
nanomsg-0.3-beta/tests/tcp.c
nanomsg-0.3-beta/tests/zerocopy.c
nanomsg-0.3-beta/tests/emfile.c
nanomsg-0.3-beta/tests/testutil.h
nanomsg-0.3-beta/tests/timeo.c
nanomsg-0.3-beta/tests/hash.c
nanomsg-0.3-beta/tests/separation.c
nanomsg-0.3-beta/tests/pipeline.c
nanomsg-0.3-beta/tests/list.c
nanomsg-0.3-beta/tests/symbol.c
nanomsg-0.3-beta/tests/tcp_shutdown.c
nanomsg-0.3-beta/tests/pair.c
nanomsg-0.3-beta/tests/poll.c
nanomsg-0.3-beta/tests/prio.c
nanomsg-0.3-beta/tests/term.c
nanomsg-0.3-beta/tests/trie.c
nanomsg-0.3-beta/tests/device.c
nanomsg-0.3-beta/tests/shutdown.c
nanomsg-0.3-beta/tests/block.c
nanomsg-0.3-beta/tests/ipc_shutdown.c
nanomsg-0.3-beta/tests/inproc_shutdown.c
nanomsg-0.3-beta/tests/iovec.c
nanomsg-0.3-beta/tests/inproc.c
nanomsg-0.3-beta/tools/
nanomsg-0.3-beta/tools/nanocat.c
nanomsg-0.3-beta/tools/options.c
nanomsg-0.3-beta/tools/options.h
nanomsg-0.3-beta/README
nanomsg-0.3-beta/test-driver
nanomsg-0.3-beta/ltmain.sh
nanomsg-0.3-beta/configure
nanomsg-0.3-beta/CMakeLists.txt
nanomsg-0.3-beta/configure.ac
nanomsg-0.3-beta/.version
nanomsg-0.3-beta/config.guess
nanomsg-0.3-beta/install-sh
nanomsg-0.3-beta/abi_version.sh
nanomsg-0.3-beta/config.sub
nanomsg-0.3-beta/missing
nanomsg-0.3-beta/Makefile.am
nanomsg-0.3-beta/Makefile.in
nanomsg-0.3-beta/package_version.sh
nanomsg-0.3-beta/AUTHORS
nanomsg-0.3-beta/ChangeLog
nanomsg-0.3-beta/COPYING
nanomsg-0.3-beta/libnanomsg.pc.in
+ cd nanomsg-0.3-beta
+ ./configure
