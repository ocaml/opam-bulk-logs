++ opam install libvirt -e ubuntu
+ depext=libvirt-dev
Ubuntu depexts: libvirt-dev
+ echo Ubuntu depexts: libvirt-dev
+ '[' libvirt-dev '!=' '' ']'
+ sudo apt-get install -qq -y build-essential m4
+ sudo apt-get install -qq -y libvirt-dev
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
Selecting previously unselected package libcap-ng0.
(Reading database ... 20147 files and directories currently installed.)
Preparing to unpack .../libcap-ng0_0.7.3-1ubuntu2_amd64.deb ...
Unpacking libcap-ng0 (0.7.3-1ubuntu2) ...
Selecting previously unselected package libnuma1:amd64.
Preparing to unpack .../libnuma1_2.0.9~rc5-1ubuntu2_amd64.deb ...
Unpacking libnuma1:amd64 (2.0.9~rc5-1ubuntu2) ...
Selecting previously unselected package libavahi-common-data:amd64.
Preparing to unpack .../libavahi-common-data_0.6.31-4ubuntu1_amd64.deb ...
Unpacking libavahi-common-data:amd64 (0.6.31-4ubuntu1) ...
Selecting previously unselected package libavahi-common3:amd64.
Preparing to unpack .../libavahi-common3_0.6.31-4ubuntu1_amd64.deb ...
Unpacking libavahi-common3:amd64 (0.6.31-4ubuntu1) ...
Selecting previously unselected package libavahi-client3:amd64.
Preparing to unpack .../libavahi-client3_0.6.31-4ubuntu1_amd64.deb ...
Unpacking libavahi-client3:amd64 (0.6.31-4ubuntu1) ...
Selecting previously unselected package libnl-3-200:amd64.
Preparing to unpack .../libnl-3-200_3.2.21-1_amd64.deb ...
Unpacking libnl-3-200:amd64 (3.2.21-1) ...
Selecting previously unselected package libyajl2:amd64.
Preparing to unpack .../libyajl2_2.0.4-4_amd64.deb ...
Unpacking libyajl2:amd64 (2.0.4-4) ...
Selecting previously unselected package libapparmor1:amd64.
Preparing to unpack .../libapparmor1_2.8.95~2430-0ubuntu5_amd64.deb ...
Unpacking libapparmor1:amd64 (2.8.95~2430-0ubuntu5) ...
Selecting previously unselected package libvirt0.
Preparing to unpack .../libvirt0_1.2.2-0ubuntu13.1.2_amd64.deb ...
Unpacking libvirt0 (1.2.2-0ubuntu13.1.2) ...
Selecting previously unselected package libxenstore3.0.
Preparing to unpack .../libxenstore3.0_4.4.0-0ubuntu5.1_amd64.deb ...
Unpacking libxenstore3.0 (4.4.0-0ubuntu5.1) ...
Selecting previously unselected package libxen-4.4.
Preparing to unpack .../libxen-4.4_4.4.0-0ubuntu5.1_amd64.deb ...
Unpacking libxen-4.4 (4.4.0-0ubuntu5.1) ...
Selecting previously unselected package libxen-dev.
Preparing to unpack .../libxen-dev_4.4.0-0ubuntu5.1_amd64.deb ...
Unpacking libxen-dev (4.4.0-0ubuntu5.1) ...
Selecting previously unselected package libvirt-dev.
Preparing to unpack .../libvirt-dev_1.2.2-0ubuntu13.1.2_amd64.deb ...
Unpacking libvirt-dev (1.2.2-0ubuntu13.1.2) ...
Setting up libcap-ng0 (0.7.3-1ubuntu2) ...
Setting up libnuma1:amd64 (2.0.9~rc5-1ubuntu2) ...
Setting up libavahi-common-data:amd64 (0.6.31-4ubuntu1) ...
Setting up libavahi-common3:amd64 (0.6.31-4ubuntu1) ...
Setting up libavahi-client3:amd64 (0.6.31-4ubuntu1) ...
Setting up libnl-3-200:amd64 (3.2.21-1) ...
Setting up libyajl2:amd64 (2.0.4-4) ...
Setting up libapparmor1:amd64 (2.8.95~2430-0ubuntu5) ...
Setting up libvirt0 (1.2.2-0ubuntu13.1.2) ...
Setting up libxenstore3.0 (4.4.0-0ubuntu5.1) ...
Setting up libxen-4.4 (4.4.0-0ubuntu5.1) ...
Setting up libxen-dev (4.4.0-0ubuntu5.1) ...
Setting up libvirt-dev (1.2.2-0ubuntu13.1.2) ...
Processing triggers for libc-bin (2.19-0ubuntu6.1) ...
++ opam install libvirt -e source,linux
+ srcext=
+ echo Ubuntu srcexts:
+ '[' '' '!=' '' ']'
+ opam install libvirt
Ubuntu srcexts:
The following actions will be performed:
 - install   libvirt.0.6.1.2
=== 1 to install ===

=-=- Synchronizing package archives -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default] Synchronizing with /home/opam/opam-repository/archives/libvirt.0.6.1.2+opam.tar.gz
sending incremental file list
libvirt.0.6.1.2+opam.tar.gz

sent 128,870 bytes  received 35 bytes  257,810.00 bytes/sec
total size is 128,714  speedup is 1.00

=-=- Installing packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Building libvirt.0.6.1.2:
  ./configure
  make all
  make opt
  make install-opt
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for a BSD-compatible install... /usr/bin/install -c
checking how to run the C preprocessor... gcc -E
checking for function prototypes... yes
checking whether gcc and cc understand -c and -o together... yes
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for virConnectOpen in -lvirt... yes
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking libvirt/libvirt.h usability... yes
checking libvirt/libvirt.h presence... yes
checking for libvirt/libvirt.h... yes
checking libvirt/virterror.h usability... yes
checking libvirt/virterror.h presence... yes
checking for libvirt/virterror.h... yes
checking for virConnectGetCapabilities... yes
checking for virConnectGetHostname... yes
checking for virConnectGetURI... 