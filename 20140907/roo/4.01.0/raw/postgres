++ opam install postgres -e ubuntu
+ depext=libpq-dev
Ubuntu depexts: libpq-dev
+ echo Ubuntu depexts: libpq-dev
+ '[' libpq-dev '!=' '' ']'
+ sudo apt-get install -qq -y build-essential m4
+ sudo apt-get install -qq -y libpq-dev
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
Selecting previously unselected package libgssrpc4:amd64.
(Reading database ... 20147 files and directories currently installed.)
Preparing to unpack .../libgssrpc4_1.12+dfsg-2ubuntu4.2_amd64.deb ...
Unpacking libgssrpc4:amd64 (1.12+dfsg-2ubuntu4.2) ...
Selecting previously unselected package libkadm5clnt-mit9:amd64.
Preparing to unpack .../libkadm5clnt-mit9_1.12+dfsg-2ubuntu4.2_amd64.deb ...
Unpacking libkadm5clnt-mit9:amd64 (1.12+dfsg-2ubuntu4.2) ...
Selecting previously unselected package libkdb5-7:amd64.
Preparing to unpack .../libkdb5-7_1.12+dfsg-2ubuntu4.2_amd64.deb ...
Unpacking libkdb5-7:amd64 (1.12+dfsg-2ubuntu4.2) ...
Selecting previously unselected package libkadm5srv-mit9:amd64.
Preparing to unpack .../libkadm5srv-mit9_1.12+dfsg-2ubuntu4.2_amd64.deb ...
Unpacking libkadm5srv-mit9:amd64 (1.12+dfsg-2ubuntu4.2) ...
Selecting previously unselected package comerr-dev.
Preparing to unpack .../comerr-dev_2.1-1.42.9-3ubuntu1_amd64.deb ...
Unpacking comerr-dev (2.1-1.42.9-3ubuntu1) ...
Selecting previously unselected package krb5-multidev.
Preparing to unpack .../krb5-multidev_1.12+dfsg-2ubuntu4.2_amd64.deb ...
Unpacking krb5-multidev (1.12+dfsg-2ubuntu4.2) ...
Selecting previously unselected package libpq5.
Preparing to unpack .../libpq5_9.3.5-0ubuntu0.14.04.1_amd64.deb ...
Unpacking libpq5 (9.3.5-0ubuntu0.14.04.1) ...
Selecting previously unselected package zlib1g-dev:amd64.
Preparing to unpack .../zlib1g-dev_1%3a1.2.8.dfsg-1ubuntu1_amd64.deb ...
Unpacking zlib1g-dev:amd64 (1:1.2.8.dfsg-1ubuntu1) ...
Selecting previously unselected package libssl-dev:amd64.
Preparing to unpack .../libssl-dev_1.0.1f-1ubuntu2.5_amd64.deb ...
Unpacking libssl-dev:amd64 (1.0.1f-1ubuntu2.5) ...
Selecting previously unselected package libpq-dev.
Preparing to unpack .../libpq-dev_9.3.5-0ubuntu0.14.04.1_amd64.deb ...
Unpacking libpq-dev (9.3.5-0ubuntu0.14.04.1) ...
Selecting previously unselected package libssl-doc.
Preparing to unpack .../libssl-doc_1.0.1f-1ubuntu2.5_all.deb ...
Unpacking libssl-doc (1.0.1f-1ubuntu2.5) ...
Setting up libgssrpc4:amd64 (1.12+dfsg-2ubuntu4.2) ...
Setting up libkadm5clnt-mit9:amd64 (1.12+dfsg-2ubuntu4.2) ...
Setting up libkdb5-7:amd64 (1.12+dfsg-2ubuntu4.2) ...
Setting up libkadm5srv-mit9:amd64 (1.12+dfsg-2ubuntu4.2) ...
Setting up comerr-dev (2.1-1.42.9-3ubuntu1) ...
Setting up krb5-multidev (1.12+dfsg-2ubuntu4.2) ...
Setting up libpq5 (9.3.5-0ubuntu0.14.04.1) ...
Setting up zlib1g-dev:amd64 (1:1.2.8.dfsg-1ubuntu1) ...
Setting up libssl-dev:amd64 (1.0.1f-1ubuntu2.5) ...
Setting up libpq-dev (9.3.5-0ubuntu0.14.04.1) ...
Setting up libssl-doc (1.0.1f-1ubuntu2.5) ...
Processing triggers for libc-bin (2.19-0ubuntu6.1) ...
++ opam install postgres -e source,linux
+ srcext=
+ echo Ubuntu srcexts:
+ '[' '' '!=' '' ']'
+ opam install postgres
Ubuntu srcexts:
The following actions will be performed:
 - install   postgres.20040120
=== 1 to install ===

=-=- Synchronizing package archives -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default] Synchronizing with /home/opam/opam-repository/archives/postgres.20040120+opam.tar.gz
sending incremental file list
postgres.20040120+opam.tar.gz

sent 22,973 bytes  received 35 bytes  46,016.00 bytes/sec
total size is 22,835  speedup is 0.99

=-=- Installing packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Applying opam.patch.
patching file libpq_stub.c
Building postgres.20040120:
  make all POSTGRES_INCLUDE=-I /usr/include/postgresql
  make install
rm -f META
echo 'name="postgres"' >> META
echo 'version="20040120"' >> META
echo 'description="Bindings for PostgreSQL"' >> META
echo 'archive(byte)="postgres.cma"' >> META
echo 'archive(native)="postgres.cmxa"' >> META
ocamlc -c postgres.mli
ocamlc -c postgres.ml
ocamlopt -c postgres.ml
ocamlc -c -I /usr/include/postgresql libpq_stub.c
rm -f libpostgres.a
ocamlmklib -lpq -verbose -o postgres postgres.cmo postgres.cmx libpq_stub.o
+ gcc -shared -o ./dllpostgres.so libpq_stub.o    -lpq
+ ar rc ./libpostgres.a  libpq_stub.o; ranlib ./libpostgres.a
+ /home/opam/.opam/4.01.0/bin/ocamlc -a  -o postgres.cma  postgres.cmo -dllib -lpostgres -cclib -lpostgres   -cclib -lpq 
+ /home/opam/.opam/4.01.0/bin/ocamlopt -a -o postgres.cmxa  postgres.cmx -cclib -lpostgres   -cclib -lpq 
ocamlfind install postgres *.cmi *.cma *.cmxa *.a *.so META
Installed /home/opam/.opam/4.01.0/lib/postgres/postgres.a
Installed /home/opam/.opam/4.01.0/lib/postgres/libpostgres.a
Installed /home/opam/.opam/4.01.0/lib/postgres/postgres.cmxa
Installed /home/opam/.opam/4.01.0/lib/postgres/postgres.cma
Installed /home/opam/.opam/4.01.0/lib/postgres/postgres.cmi
Installed /home/opam/.opam/4.01.0/lib/postgres/META
Installed /home/opam/.opam/4.01.0/lib/stublibs/dllpostgres.so
Installed /home/opam/.opam/4.01.0/lib/stublibs/dllpostgres.so.owner
ocamlfind: [WARNING] You have installed DLLs but the directory /home/opam/.opam/4.01.0/lib/stublibs is not mentioned in ld.conf
Installing postgres.20040120.
