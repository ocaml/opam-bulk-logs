++ opam install flowcaml -e ubuntu
+ depext=
+ echo Ubuntu depexts:
Ubuntu depexts:
+ '[' '' '!=' '' ']'
++ opam install flowcaml -e source,linux
+ srcext=
+ echo Ubuntu srcexts:
+ '[' '' '!=' '' ']'
+ opam install flowcaml
Ubuntu srcexts:
The following actions will be performed:
 - install flowcaml.1.07
1 to install | 0 to reinstall | 0 to upgrade | 0 to downgrade | 0 to remove

=-=-= Installing flowcaml.1.07 =-=-=
default    Synchronizing with /home/opam/opam-repository/archives/flowcaml.1.07+opam.tar.gz
sending incremental file list
flowcaml.1.07+opam.tar.gz

sent 374,490 bytes  received 35 bytes  749,050.00 bytes/sec
total size is 374,272  speedup is 1.00
Building flowcaml.1.07:
  sh -c cd src-flowcaml && ./configure --prefix /home/opam/.opam/4.02.0+trunk --with-runlib=/home/opam/.opam/4.02.0+trunk/lib/flowcaml
  sh -c cd src-flowcaml && make world
  sh -c cd src-flowcaml && make install
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
Suffix of executable files: ""
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking how to run the C preprocessor... gcc -E

*** Objective Caml
checking for ocamlc... /home/opam/.opam/4.02.0+trunk/bin/ocamlc
checking ocamlc version... 4.02.0+dev7-2014-05-16
checking Objective Caml library path... /home/opam/.opam/4.02.0+trunk/lib/ocaml
checking for ocamlopt... /home/opam/.opam/4.02.0+trunk/bin/ocamlopt
checking ocamlopt version... 4.02.0+dev7-2014-05-16
checking for ocamlyacc... /home/opam/.opam/4.02.0+trunk/bin/ocamlyacc
checking for ocamllex... /home/opam/.opam/4.02.0+trunk/bin/ocamllex
checking for ocamldep... /home/opam/.opam/4.02.0+trunk/bin/ocamldep
Enabling run-time assertion checks
link bytecode executables in default mode
checking for /home/opam/.opam/4.02.0+trunk/lib/ocaml/graphics.cma... yes

*** Auxiliary programs
checking for dot... no

*** Installation directories
checking binaries installation path:... /home/opam/.opam/4.02.0+trunk/bin
checking standard library installation path:... /home/opam/.opam/4.02.0+trunk/lib/flowcaml
checking runtime library installation path:... /home/opam/.opam/4.02.0+trunk/lib/flowcaml

configure: creating ./config.status
config.status: creating ../Makefile.common
config.status: creating Makefile.config
config.status: creating utils/config.ml

------------------------------------------------------------
Everything seems to be ok.
You can now start compilation by 'make world'.
------------------------------------------------------------
make all
make[1]: Entering directory `/home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07/src-flowcaml'
cpp -DGRAPHICS -P ../src-averell/avl_graphics.mlp > ../src-averell/avl_graphics.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_graphics.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_topo.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_topo.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_tarjan.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_tarjan.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_closure.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_closure.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_kernel.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_kernel.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_graphviz.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_graphviz.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_draw.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-averell/avl_draw.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_lib.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_lib.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_tree.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_list.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_debug.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_aux.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_aux.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_sig.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_templates.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_dumb.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_light.ml
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c utils/standard.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton.mli
/home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton.ml
File "../src-dalton/dalton.ml", line 1519, characters 15-30:
Error: This expression has type
         (string -> string -> 'a -> 'b, Format.formatter, unit, unit, 
          unit, 'a -> 'b)
         format6 =
           (string -> string -> 'a -> 'b, Format.formatter, unit, unit, 
            unit, 'a -> 'b)
           CamlinternalFormatBasics.format6
       but an expression was expected of type
         (string -> string -> 'a -> 'b, Format.formatter, unit) format =
           (string -> string -> 'a -> 'b, Format.formatter, unit, unit, 
            unit, unit)
           CamlinternalFormatBasics.format6
       Type 'a -> 'b is not compatible with type unit 
make[1]: *** [../src-dalton/dalton.cmo] Error 2
make[1]: Leaving directory `/home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07/src-flowcaml'
make: *** [world] Error 2
[ERROR] The compilation of flowcaml.1.07 failed.
Removing flowcaml.1.07.
  sh -c cd src-flowcaml && ./configure --prefix /home/opam/.opam/4.02.0+trunk --with-runlib=/home/opam/.opam/4.02.0+trunk/lib/flowcaml
  sh -c cd src-flowcaml && make uninstall
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
Suffix of executable files: ""
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking how to run the C preprocessor... gcc -E

*** Objective Caml
checking for ocamlc... /home/opam/.opam/4.02.0+trunk/bin/ocamlc
checking ocamlc version... 4.02.0+dev7-2014-05-16
checking Objective Caml library path... /home/opam/.opam/4.02.0+trunk/lib/ocaml
checking for ocamlopt... /home/opam/.opam/4.02.0+trunk/bin/ocamlopt
checking ocamlopt version... 4.02.0+dev7-2014-05-16
checking for ocamlyacc... /home/opam/.opam/4.02.0+trunk/bin/ocamlyacc
checking for ocamllex... /home/opam/.opam/4.02.0+trunk/bin/ocamllex
checking for ocamldep... /home/opam/.opam/4.02.0+trunk/bin/ocamldep
Enabling run-time assertion checks
link bytecode executables in default mode
checking for /home/opam/.opam/4.02.0+trunk/lib/ocaml/graphics.cma... yes

*** Auxiliary programs
checking for dot... no

*** Installation directories
checking binaries installation path:... /home/opam/.opam/4.02.0+trunk/bin
checking standard library installation path:... /home/opam/.opam/4.02.0+trunk/lib/flowcaml
checking runtime library installation path:... /home/opam/.opam/4.02.0+trunk/lib/flowcaml

configure: creating ./config.status
config.status: creating ../Makefile.common
config.status: creating Makefile.config
config.status: creating utils/config.ml

------------------------------------------------------------
Everything seems to be ok.
You can now start compilation by 'make world'.
------------------------------------------------------------
if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcaml; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcaml; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcamlc; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcamlc; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcamlpol; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcamlpol; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcamldep; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcamldep; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcamlmerge; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcamlmerge; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcamldoc; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcamldoc; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcaml.opt; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcaml.opt; fi;  if test -f /home/opam/.opam/4.02.0+trunk/bin/flowcamlc.opt; then rm /home/opam/.opam/4.02.0+trunk/bin/flowcamlc.opt; fi;
rm -rf /home/opam/.opam/4.02.0+trunk/lib/flowcaml
rm -rf /home/opam/.opam/4.02.0+trunk/lib/flowcaml


===== ERROR while installing flowcaml.1.07 =====
# opam-version         1.1.1
# os                   linux
# command              sh -c cd src-flowcaml && make world
# path                 /home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07
# compiler             4.02.0+trunk
# exit-code            2
# env-file             /home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07/flowcaml-25-1872ec.env
# stdout-file          /home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07/flowcaml-25-1872ec.out
# stderr-file          /home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07/flowcaml-25-1872ec.err
### stdout ###
# ...[truncated]
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_aux.mli
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_aux.ml
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_sig.ml
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_templates.ml
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_dumb.ml
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton_light.ml
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c utils/standard.mli
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton.mli
# /home/opam/.opam/4.02.0+trunk/bin/ocamlc -I ../src-averell -I ../src-dalton -I utils -I parsing -I stripping -I types -I typing -I driver -I toplevel -I tools -I docgen -w -A -c ../src-dalton/dalton.ml
# make[1]: Leaving directory `/home/opam/.opam/4.02.0+trunk/build/flowcaml.1.07/src-flowcaml'
### stderr ###
# ...[truncated]
#             unit, 'a -> 'b)
#            CamlinternalFormatBasics.format6
#        but an expression was expected of type
#          (string -> string -> 'a -> 'b, Format.formatter, unit) format =
#            (string -> string -> 'a -> 'b, Format.formatter, unit, unit, 
#             unit, unit)
#            CamlinternalFormatBasics.format6
#        Type 'a -> 'b is not compatible with type unit 
# make[1]: *** [../src-dalton/dalton.cmo] Error 2
# make: *** [world] Error 2

'opam install flowcaml' failed.
