++ opam install sodium -e ubuntu
Ubuntu depexts: libffi-dev
+ depext=libffi-dev
+ echo Ubuntu depexts: libffi-dev
+ '[' libffi-dev '!=' '' ']'
+ sudo apt-get install -qq -y build-essential m4
+ sudo apt-get install -qq -y libffi-dev
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
Selecting previously unselected package libffi-dev:amd64.
(Reading database ... 22269 files and directories currently installed.)
Preparing to unpack .../libffi-dev_3.1~rc1+r3.0.13-12_amd64.deb ...
Unpacking libffi-dev:amd64 (3.1~rc1+r3.0.13-12) ...
Setting up libffi-dev:amd64 (3.1~rc1+r3.0.13-12) ...
++ opam install sodium -e source,linux
+ srcext=https://gist.github.com/avsm/9037146/raw
+ echo Ubuntu srcexts: https://gist.github.com/avsm/9037146/raw
+ '[' https://gist.github.com/avsm/9037146/raw '!=' '' ']'
Ubuntu srcexts: https://gist.github.com/avsm/9037146/raw
++ mktemp
+ t=/tmp/tmp.oK4fnpvdIb
+ curl -sL https://gist.github.com/avsm/9037146/raw
+ bash -ex /tmp/tmp.oK4fnpvdIb
+ V=0.4.5
+ curl -OL https://download.libsodium.org/libsodium/releases/libsodium-0.4.5.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100  527k  100  527k    0     0  2100k      0 --:--:-- --:--:-- --:--:-- 2094k
+ tar -zxvf libsodium-0.4.5.tar.gz
libsodium-0.4.5/
libsodium-0.4.5/aclocal.m4
libsodium-0.4.5/AUTHORS
libsodium-0.4.5/autogen.sh
libsodium-0.4.5/ChangeLog
libsodium-0.4.5/compile
libsodium-0.4.5/config.guess
libsodium-0.4.5/config.sub
libsodium-0.4.5/configure
libsodium-0.4.5/configure.ac
libsodium-0.4.5/depcomp
libsodium-0.4.5/install-sh
libsodium-0.4.5/libsodium.pc.in
libsodium-0.4.5/libsodium.sln
libsodium-0.4.5/libsodium.vcxproj
libsodium-0.4.5/libsodium.vcxproj.filters
libsodium-0.4.5/LICENSE
libsodium-0.4.5/ltmain.sh
libsodium-0.4.5/m4/
libsodium-0.4.5/Makefile.am
libsodium-0.4.5/Makefile.in
libsodium-0.4.5/missing
libsodium-0.4.5/msvc-scripts/
libsodium-0.4.5/README
libsodium-0.4.5/README.markdown
libsodium-0.4.5/src/
libsodium-0.4.5/test/
libsodium-0.4.5/test-driver
libsodium-0.4.5/THANKS
libsodium-0.4.5/test/default/
libsodium-0.4.5/test/Makefile.am
libsodium-0.4.5/test/Makefile.in
libsodium-0.4.5/test/quirks/
libsodium-0.4.5/test/quirks/windows/
libsodium-0.4.5/test/quirks/windows/windows-quirks.h
libsodium-0.4.5/test/default/auth.c
libsodium-0.4.5/test/default/auth.exp
libsodium-0.4.5/test/default/auth2.c
libsodium-0.4.5/test/default/auth2.exp
libsodium-0.4.5/test/default/auth3.c
libsodium-0.4.5/test/default/auth3.exp
libsodium-0.4.5/test/default/auth5.c
libsodium-0.4.5/test/default/auth5.exp
libsodium-0.4.5/test/default/box.c
libsodium-0.4.5/test/default/box.exp
libsodium-0.4.5/test/default/box2.c
libsodium-0.4.5/test/default/box2.exp
libsodium-0.4.5/test/default/box7.c
libsodium-0.4.5/test/default/box7.exp
libsodium-0.4.5/test/default/box8.c
libsodium-0.4.5/test/default/box8.exp
libsodium-0.4.5/test/default/cmptest.h
libsodium-0.4.5/test/default/core1.c
libsodium-0.4.5/test/default/core1.exp
libsodium-0.4.5/test/default/core2.c
libsodium-0.4.5/test/default/core2.exp
libsodium-0.4.5/test/default/core3.c
libsodium-0.4.5/test/default/core3.exp
libsodium-0.4.5/test/default/core4.c
libsodium-0.4.5/test/default/core4.exp
libsodium-0.4.5/test/default/core5.c
libsodium-0.4.5/test/default/core5.exp
libsodium-0.4.5/test/default/core6.c
libsodium-0.4.5/test/default/core6.exp
libsodium-0.4.5/test/default/generichash.c
libsodium-0.4.5/test/default/generichash.exp
libsodium-0.4.5/test/default/generichash2.c
libsodium-0.4.5/test/default/generichash2.exp
libsodium-0.4.5/test/default/hash.c
libsodium-0.4.5/test/default/hash.exp
libsodium-0.4.5/test/default/hash2.exp
libsodium-0.4.5/test/default/hash3.c
libsodium-0.4.5/test/default/hash3.exp
libsodium-0.4.5/test/default/Makefile.am
libsodium-0.4.5/test/default/Makefile.in
libsodium-0.4.5/test/default/onetimeauth.c
libsodium-0.4.5/test/default/onetimeauth.exp
libsodium-0.4.5/test/default/onetimeauth2.c
libsodium-0.4.5/test/default/onetimeauth2.exp
libsodium-0.4.5/test/default/onetimeauth7.c
libsodium-0.4.5/test/default/onetimeauth7.exp
libsodium-0.4.5/test/default/randombytes.c
libsodium-0.4.5/test/default/scalarmult.c
libsodium-0.4.5/test/default/scalarmult.exp
libsodium-0.4.5/test/default/scalarmult2.c
libsodium-0.4.5/test/default/scalarmult2.exp
libsodium-0.4.5/test/default/scalarmult5.c
libsodium-0.4.5/test/default/scalarmult5.exp
libsodium-0.4.5/test/default/scalarmult6.c
libsodium-0.4.5/test/default/scalarmult6.exp
libsodium-0.4.5/test/default/scalarmult7.c
libsodium-0.4.5/test/default/scalarmult7.exp
libsodium-0.4.5/test/default/scalarmult8.c
libsodium-0.4.5/test/default/scalarmult8.exp
libsodium-0.4.5/test/default/secretbox.c
libsodium-0.4.5/test/default/secretbox.exp
libsodium-0.4.5/test/default/secretbox2.c
libsodium-0.4.5/test/default/secretbox2.exp
libsodium-0.4.5/test/default/secretbox7.c
libsodium-0.4.5/test/default/secretbox7.exp
libsodium-0.4.5/test/default/secretbox8.c
libsodium-0.4.5/test/default/secretbox8.exp
libsodium-0.4.5/test/default/shorthash.c
libsodium-0.4.5/test/default/shorthash.exp
libsodium-0.4.5/test/default/sodium_core.c
libsodium-0.4.5/test/default/sodium_core.exp
libsodium-0.4.5/test/default/sodium_utils.c
libsodium-0.4.5/test/default/sodium_utils.exp
libsodium-0.4.5/test/default/sodium_version.c
libsodium-0.4.5/test/default/sodium_version.exp
libsodium-0.4.5/test/default/stream.c
libsodium-0.4.5/test/default/stream.exp
libsodium-0.4.5/test/default/stream2.c
libsodium-0.4.5/test/default/stream2.exp
libsodium-0.4.5/test/default/stream3.c
libsodium-0.4.5/test/default/stream3.exp
libsodium-0.4.5/test/default/stream4.c
libsodium-0.4.5/test/default/stream4.exp
libsodium-0.4.5/test/default/stream5.c
libsodium-0.4.5/test/default/stream5.exp
libsodium-0.4.5/test/default/stream6.c
libsodium-0.4.5/test/default/stream6.exp
libsodium-0.4.5/test/default/wintest.bat
libsodium-0.4.5/src/libsodium/
libsodium-0.4.5/src/Makefile.am
libsodium-0.4.5/src/Makefile.in
libsodium-0.4.5/src/libsodium/crypto_auth/
libsodium-0.4.5/src/libsodium/crypto_box/
libsodium-0.4.5/src/libsodium/crypto_core/
libsodium-0.4.5/src/libsodium/crypto_generichash/
libsodium-0.4.5/src/libsodium/crypto_hash/
libsodium-0.4.5/src/libsodium/crypto_hashblocks/
libsodium-0.4.5/src/libsodium/crypto_onetimeauth/
libsodium-0.4.5/src/libsodium/crypto_scalarmult/
libsodium-0.4.5/src/libsodium/crypto_secretbox/
libsodium-0.4.5/src/libsodium/crypto_shorthash/
libsodium-0.4.5/src/libsodium/crypto_sign/
libsodium-0.4.5/src/libsodium/crypto_stream/
libsodium-0.4.5/src/libsodium/crypto_verify/
libsodium-0.4.5/src/libsodium/include/
libsodium-0.4.5/src/libsodium/Makefile.am
libsodium-0.4.5/src/libsodium/Makefile.in
libsodium-0.4.5/src/libsodium/randombytes/
libsodium-0.4.5/src/libsodium/sodium/
libsodium-0.4.5/src/libsodium/sodium/compat.c
libsodium-0.4.5/src/libsodium/sodium/core.c
libsodium-0.4.5/src/libsodium/sodium/utils.c
libsodium-0.4.5/src/libsodium/sodium/version.c
libsodium-0.4.5/src/libsodium/randombytes/randombytes.c
libsodium-0.4.5/src/libsodium/randombytes/salsa20/
libsodium-0.4.5/src/libsodium/randombytes/sysrandom/
libsodium-0.4.5/src/libsodium/randombytes/sysrandom/randombytes_sysrandom.c
libsodium-0.4.5/src/libsodium/randombytes/salsa20/randombytes_salsa20_random.c
libsodium-0.4.5/src/libsodium/include/Makefile.am
libsodium-0.4.5/src/libsodium/include/Makefile.in
libsodium-0.4.5/src/libsodium/include/sodium/
libsodium-0.4.5/src/libsodium/include/sodium.h
libsodium-0.4.5/src/libsodium/include/sodium/core.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_auth.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_auth_hmacsha256.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_auth_hmacsha512256.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_box.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_box_curve25519xsalsa20poly1305.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_core_hsalsa20.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_core_salsa20.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_core_salsa2012.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_core_salsa208.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_generichash.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_generichash_blake2b.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_hash.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_hash_sha256.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_hash_sha512.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_hashblocks_sha256.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_hashblocks_sha512.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_int32.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_int64.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_onetimeauth.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_onetimeauth_poly1305.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_onetimeauth_poly1305_53.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_onetimeauth_poly1305_donna.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_scalarmult.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_scalarmult_curve25519.h.in
libsodium-0.4.5/src/libsodium/include/sodium/crypto_secretbox.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_secretbox_xsalsa20poly1305.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_shorthash.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_shorthash_siphash24.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_sign.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_sign_ed25519.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_sign_edwards25519sha512batch.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream_aes128ctr.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream_aes256estream.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream_salsa20.h.in
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream_salsa2012.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream_salsa208.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_stream_xsalsa20.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_uint16.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_uint32.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_uint64.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_uint8.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_verify_16.h
libsodium-0.4.5/src/libsodium/include/sodium/crypto_verify_32.h
libsodium-0.4.5/src/libsodium/include/sodium/export.h
libsodium-0.4.5/src/libsodium/include/sodium/randombytes.h
libsodium-0.4.5/src/libsodium/include/sodium/randombytes_salsa20_random.h
libsodium-0.4.5/src/libsodium/include/sodium/randombytes_sysrandom.h
libsodium-0.4.5/src/libsodium/include/sodium/utils.h
libsodium-0.4.5/src/libsodium/include/sodium/version.h.in
libsodium-0.4.5/src/libsodium/crypto_verify/16/
libsodium-0.4.5/src/libsodium/crypto_verify/32/
libsodium-0.4.5/src/libsodium/crypto_verify/32/ref/
libsodium-0.4.5/src/libsodium/crypto_verify/32/verify_32_api.c
libsodium-0.4.5/src/libsodium/crypto_verify/32/ref/api.h
libsodium-0.4.5/src/libsodium/crypto_verify/32/ref/verify_32.c
libsodium-0.4.5/src/libsodium/crypto_verify/16/ref/
libsodium-0.4.5/src/libsodium/crypto_verify/16/verify_16_api.c
libsodium-0.4.5/src/libsodium/crypto_verify/16/ref/api.h
libsodium-0.4.5/src/libsodium/crypto_verify/16/ref/verify_16.c
libsodium-0.4.5/src/libsodium/crypto_stream/aes128ctr/
libsodium-0.4.5/src/libsodium/crypto_stream/aes256estream/
libsodium-0.4.5/src/libsodium/crypto_stream/crypto_stream.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/
libsodium-0.4.5/src/libsodium/crypto_stream/salsa2012/
libsodium-0.4.5/src/libsodium/crypto_stream/salsa208/
libsodium-0.4.5/src/libsodium/crypto_stream/xsalsa20/
libsodium-0.4.5/src/libsodium/crypto_stream/xsalsa20/ref/
libsodium-0.4.5/src/libsodium/crypto_stream/xsalsa20/stream_xsalsa20_api.c
libsodium-0.4.5/src/libsodium/crypto_stream/xsalsa20/ref/api.h
libsodium-0.4.5/src/libsodium/crypto_stream/xsalsa20/ref/stream_xsalsa20.c
libsodium-0.4.5/src/libsodium/crypto_stream/xsalsa20/ref/xor_xsalsa20.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa208/ref/
libsodium-0.4.5/src/libsodium/crypto_stream/salsa208/stream_salsa208_api.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa208/ref/api.h
libsodium-0.4.5/src/libsodium/crypto_stream/salsa208/ref/stream_salsa208.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa208/ref/xor_salsa208.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa2012/ref/
libsodium-0.4.5/src/libsodium/crypto_stream/salsa2012/stream_salsa2012_api.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa2012/ref/api.h
libsodium-0.4.5/src/libsodium/crypto_stream/salsa2012/ref/stream_salsa2012.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa2012/ref/xor_salsa2012.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/amd64_xmm6/
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/ref/
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/stream_salsa20_api.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/ref/api.h
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/ref/stream_salsa20_ref.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/ref/xor_salsa20_ref.c
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/amd64_xmm6/api.h
libsodium-0.4.5/src/libsodium/crypto_stream/salsa20/amd64_xmm6/stream_salsa20_amd64_xmm6.S
libsodium-0.4.5/src/libsodium/crypto_stream/aes256estream/hongjun/
libsodium-0.4.5/src/libsodium/crypto_stream/aes256estream/stream_aes256estream_api.c
libsodium-0.4.5/src/libsodium/crypto_stream/aes256estream/hongjun/aes-table-be.h
